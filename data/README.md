# Data Directory

This directory contains all data for the Vietnamese Emoji Suggestion System.

## Structure

```
data/
â”œâ”€â”€ raw/                      # Original collected data
â”‚   â”œâ”€â”€ initial_data.csv      # Initial 194 base samples
â”‚   â”œâ”€â”€ initial_data.json     # JSON format
â”‚   â””â”€â”€ augmented_data.csv    # 451 augmented samples
â”œâ”€â”€ processed/                # Cleaned and labeled data
â”‚   â””â”€â”€ labeled_data.csv      # Final labeled dataset
â”œâ”€â”€ collect_data.py           # Data collection utilities
â””â”€â”€ README.md                 # This file
```

## Data Format

### CSV Format
```csv
text,primary_emotion,intensity,emoji_1,emoji_2,emoji_3,source,created_at
"ChÃºc má»«ng báº¡n!",joy,4,ðŸ˜Š,ðŸŽ‰,ðŸ¥³,manual,2025-01-09T10:00:00
```

### Fields
- `text`: Vietnamese text (string)
- `primary_emotion`: One of 8 emotions (joy, sadness, anger, fear, surprise, disgust, trust, anticipation)
- `intensity`: 1-5 scale (1=very weak, 5=very strong)
- `emoji_1`: Primary suggested emoji
- `emoji_2`: Secondary suggested emoji (optional)
- `emoji_3`: Tertiary suggested emoji (optional)
- `source`: Data source (manual, augmented, social_media, forum, etc.)
- `created_at`: Timestamp
- `confidence`: Confidence score (1.0 for manual, < 1.0 for augmented)
- `augmentation_type`: Type of augmentation (original, synonym, intensity)

## Generating Dataset

### Quick Start - Generate Complete Dataset

To generate both initial and augmented datasets in one command:

```bash
python scripts/generate_dataset.py
```

This will:
1. Create `data/raw/initial_data.csv` with 194 manually-curated samples
2. Create `data/raw/initial_data.json` in JSON format
3. Apply synonym replacement and intensity variation augmentation
4. Create `data/raw/augmented_data.csv` with 450+ augmented samples
5. Validate the dataset and print statistics

### Manual Steps

#### Step 1: Create Initial Dataset Only

```bash
python data/collect_data.py
```

This creates:
- `data/raw/initial_data.csv` - 194 base samples
- `data/raw/initial_data.json` - Same data in JSON format

#### Step 2: Create Augmented Dataset

The augmented dataset is automatically generated by `scripts/generate_dataset.py` which applies:
- **Synonym replacement**: Replaces Vietnamese words with synonyms
- **Intensity variation**: Adds/removes intensity modifiers

## Dataset Statistics

### Initial Dataset (194 samples)
- **Emotions**: All 8 emotions represented
- **Intensities**: Levels 1-5
- **Source**: 100% manually curated

### Augmented Dataset (451 samples)
- **Total samples**: 451 (exceeds 450 target)
- **Original samples**: ~43% (194)
- **Synonym augmented**: ~27% (124)
- **Intensity augmented**: ~30% (133)
- **Emotions**: All 8 emotions balanced
- **Quality**: High confidence (0.9-1.0)

## Emotion Categories

Based on Plutchik's Wheel of Emotions:

| Emotion | Vietnamese | Description | Sample Count |
|---------|------------|-------------|--------------|
| joy | Vui | Happiness, excitement | ~14% |
| sadness | Buá»“n | Sorrow, grief | ~20% |
| anger | Giáº­n | Frustration, rage | ~14% |
| fear | Sá»£ | Anxiety, worry | ~15% |
| surprise | Ngáº¡c nhiÃªn | Shock, amazement | ~8% |
| disgust | GhÃª tá»Ÿm | Revulsion, distaste | ~11% |
| trust | Tin tÆ°á»Ÿng | Confidence, faith | ~10% |
| anticipation | Mong Ä‘á»£i | Expectation, hope | ~9% |

## Validation

The dataset includes built-in validation that checks for:
- Missing emoji assignments
- Invalid emotion labels
- Invalid intensity values (must be 1-5)
- Duplicate texts
- Very short texts (< 2 words)

Run validation:
```python
from data.collect_data import load_dataset_csv, validate_dataset

samples = load_dataset_csv('data/raw/augmented_data.csv')
issues = validate_dataset(samples)
```

## Usage in Training

Load the augmented dataset for model training:

```python
import pandas as pd

# Load augmented dataset
df = pd.read_csv('data/raw/augmented_data.csv')

# Filter by confidence if needed
high_quality = df[df['confidence'] >= 0.9]

# Split by source
original = df[df['augmentation_type'] == 'original']
augmented = df[df['source'] == 'augmented']
```
